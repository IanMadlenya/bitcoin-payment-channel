<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Bitcoin.PaymentChannel</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Bitcoin-PaymentChannel.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Bitcoin-PaymentChannel.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">bitcoin-payment-channel-0.1.0.0: Library for working with Bitcoin payment channels</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Rune K. Svendsen, 2016</td></tr><tr><th>License</th><td>PublicDomain</td></tr><tr><th>Maintainer</th><td>runesvend@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>POSIX</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Bitcoin.PaymentChannel</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>In order to set up a payment channel between a sender and a receiver, the two parties must
 first agree on three parameters for the channel:</p><ol><li>sender public key</li><li>receiver public key</li><li>channel expiration date</li></ol><p>These parameters
 are contained in <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></code>, from which a channel funding
 address can be derived using
 <code><a href="Data-Bitcoin-PaymentChannel.html#v:getFundingAddress">getFundingAddress</a></code>. The transaction which pays to this address is the channel funding
 transaction, and information about it is contained in a <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></code>.
 So, the channel funding transaction will contain an output which pays to the address returned by
 <code><a href="Data-Bitcoin-PaymentChannel.html#v:getFundingAddress">getFundingAddress</a></code>, and once this transaction is created and in
 the blockchain, a <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></code> and
 <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></code> instance can be created, after first creating the <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></code> instance.
 <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></code> contains three pieces of information about the funding transaction:</p><ol><li>hash/transaction ID</li><li>index/vout of the funding output (paying to <code><a href="Data-Bitcoin-PaymentChannel.html#v:getFundingAddress">getFundingAddress</a></code> address),</li><li>value of the funding output (paying to <code><a href="Data-Bitcoin-PaymentChannel.html#v:getFundingAddress">getFundingAddress</a></code> address)</li></ol><p>With <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></code> and <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></code>,
 the sender can create a new <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></code>, plus
 the first channel payment, using <code><a href="Data-Bitcoin-PaymentChannel.html#v:channelWithInitialPaymentOf">channelWithInitialPaymentOf</a></code>. <code><a href="Data-Bitcoin-PaymentChannel.html#v:channelWithInitialPaymentOf">channelWithInitialPaymentOf</a></code>
 takes two additional arguments:</p><ol><li>a signing function which, given a hash, produces a signature that verifies against
        <code><a href="Data-Bitcoin-PaymentChannel-Types.html#v:cpSenderPubKey">cpSenderPubKey</a></code> in <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></code></li><li>the value of the first channel payment</li></ol><p>The sender will want to use <code>flip <code><a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#v:signMsg">signMsg</a></code> senderPrivKey</code> as the signing
 function, where <code>senderPrivKey</code> is the private key from which <code><a href="Data-Bitcoin-PaymentChannel-Types.html#v:cpSenderPubKey">cpSenderPubKey</a></code> is derived.
 <code><a href="Data-Bitcoin-PaymentChannel.html#v:channelWithInitialPaymentOf">channelWithInitialPaymentOf</a></code> will return the first channel <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></code> as well as
 the new <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></code> state. The new state is stored, and the <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></code>
 transferred to the receiver.</p><p>The receiver will now create its own channel state object, <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></code>, using
 <code><a href="Data-Bitcoin-PaymentChannel.html#v:channelFromInitialPayment">channelFromInitialPayment</a></code>.
 <code><a href="Data-Bitcoin-PaymentChannel.html#v:channelFromInitialPayment">channelFromInitialPayment</a></code> takes the same <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></code> and <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></code>
 as was provided by the sender, and, in addition, the receiver signing function
 (used to produce the settlement transaction
 that closes the payment channel), and the first channel <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></code>, received from the sender.
 The receiver will want to use <code>flip <code><a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#v:signMsg">signMsg</a></code> receiverPrivKey</code> as the signing function,
 where <code><a href="receiverPrivKey">receiverPrivKey</a></code> is the private key from which <code><a href="Data-Bitcoin-PaymentChannel-Types.html#v:cpReceiverPubKey">cpReceiverPubKey</a></code> is derived.</p><p>Now the payment channel is open and ready for transmitting value. A new <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></code> is created by
 the sender with <code><a href="Data-Bitcoin-PaymentChannel.html#v:sendPayment">sendPayment</a></code>, which yields a new payment, that increases the total value transmitted
 to the receiver by the specified amount, and an updated <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></code> state.
 The receiver will verify and register this <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></code> on its side using <code><a href="Data-Bitcoin-PaymentChannel.html#v:recvPayment">recvPayment</a></code>, which, on success,
 returns the value received with this payment plus the updated
 <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></code> state object.</p><p>Payments can flow from the sender to receiver until either the channel is exhausted, or getting
 close to expiration (see important note below). In either case the receiver will use <code><a href="Data-Bitcoin-PaymentChannel.html#v:getSettlementBitcoinTx">getSettlementBitcoinTx</a></code> to create the settlement
 Bitcoin transaction, and publish this transaction to the Bitcoin network. The settlement Bitcoin
 transaction pays the total value transmitted over the channel to the receiver and the rest back
 to the sender.</p><p><strong><em>IMPORTANT:</em></strong> <em>Channel setup is risk free because the sender can derive a refund Bitcoin transaction</em>
 <em>using <code><a href="Data-Bitcoin-PaymentChannel.html#v:getRefundBitcoinTx">getRefundBitcoinTx</a></code>, which returns the bitcoins used to fund the channel back to the sender.</em>
 <em>This refund transaction, however, is not valid until the expiration date specified in <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></code>,</em>
 <em>but it is paramount that the value receiver gets a settlement transaction included in a block</em>
 <em>before the refund transaction becomes valid. Due to the fact that Bitcoin network time is allowed</em>
 <em>to drift up to two hours from actual time, and the fact that finding new Bitcoin blocks does not occur</em>
 <em>according to any schedule, it would be wise for the receiver to publish a settlement transaction at least</em>
 <em>4 hours before the specified channel expiration time, and possibly earlier, if the receiver wants to</em>
 <em>be cautious.</em></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:channelWithInitialPaymentOf">channelWithInitialPaymentOf</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a> -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a> -&gt; (<a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Hash256">Hash256</a> -&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Signature">Signature</a>) -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a> -&gt; (<a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a>, <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a>)</li><li class="src short"><a href="#v:sendPayment">sendPayment</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a> -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a> -&gt; (<a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a>, <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a>)</li><li class="src short"><a href="#v:channelFromInitialPayment">channelFromInitialPayment</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a> -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a> -&gt; (<a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Hash256">Hash256</a> -&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Signature">Signature</a>) -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:PayChanError">PayChanError</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></li><li class="src short"><a href="#v:recvPayment">recvPayment</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a> -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:PayChanError">PayChanError</a> (<a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a>, <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a>)</li><li class="src short"><a href="#v:getSettlementBitcoinTx">getSettlementBitcoinTx</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a> -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:PayChanError">PayChanError</a> <a href="../haskoin-core-0.3.0/Network-Haskoin-Transaction.html#t:Tx">Tx</a></li><li class="src short"><a href="#v:getRefundBitcoinTx">getRefundBitcoinTx</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a> -&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a> -&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Transaction.html#t:Tx">Tx</a></li><li class="src short"><a href="#v:getFundingAddress">getFundingAddress</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a> -&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Address">Address</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:channelWithInitialPaymentOf" class="def">channelWithInitialPaymentOf</a> <a href="src/Data-Bitcoin-PaymentChannel.html#channelWithInitialPaymentOf" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></td><td class="doc"><p>Specifies channel sender and receiver, plus channel expiration date</p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></td><td class="doc"><p>Holds information about the transaction used to fund the channel</p></td></tr><tr><td class="src">-&gt; (<a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Hash256">Hash256</a> -&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Signature">Signature</a>)</td><td class="doc"><p>See <code><a href="Data-Bitcoin-PaymentChannel-Types.html#v:spcSignFunc">spcSignFunc</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a></td><td class="doc"><p>Value of initial payment. Must be greater than or equal to <code>minimumInitialPayment</code></p></td></tr><tr><td class="src">-&gt; (<a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a>, <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a>)</td><td class="doc"><p>Initial payment and new sender state object</p></td></tr></table></div><div class="doc"><p>Create a new <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></code>.
 A <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></code> object is created by supplying information about
 the channel and the funding transaction, as well as the value of the first payment.
 Returns a new <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></code> state object and the first channel payment.</p></div></div><div class="top"><p class="src"><a name="v:sendPayment" class="def">sendPayment</a> <a href="src/Data-Bitcoin-PaymentChannel.html#sendPayment" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></td><td class="doc"><p>Sender state object</p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a></td><td class="doc"><p>Amount to send (the actual payment amount is capped so that it doesn't overflow the maximum channel value)</p></td></tr><tr><td class="src">-&gt; (<a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a>, <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a>)</td><td class="doc"><p>Payment and updated sender state object</p></td></tr></table></div><div class="doc"><p>Create new payment of specified value.</p></div></div><div class="top"><p class="src"><a name="v:channelFromInitialPayment" class="def">channelFromInitialPayment</a> <a href="src/Data-Bitcoin-PaymentChannel.html#channelFromInitialPayment" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></td><td class="doc"><p>Specifies channel sender and receiver, plus channel expiration date</p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></td><td class="doc"><p>Holds information about the transaction used to fund the channel</p></td></tr><tr><td class="src">-&gt; (<a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Hash256">Hash256</a> -&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Signature">Signature</a>)</td><td class="doc"><p>Function which produces a signature, over a hash, which verifies against <code><a href="Data-Bitcoin-PaymentChannel-Types.html#v:cpReceiverPubKey">cpReceiverPubKey</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></td><td class="doc"><p>Initial channel payment</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:PayChanError">PayChanError</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></td><td class="doc"><p>Receiver state object</p></td></tr></table></div><div class="doc"><p>Create new <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></code>.
 A channel is initialized with various information
 about the payment channel, as well as the first channel payment
 produced by the sender.</p></div></div><div class="top"><p class="src"><a name="v:recvPayment" class="def">recvPayment</a> <a href="src/Data-Bitcoin-PaymentChannel.html#recvPayment" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></td><td class="doc"><p>Receiver state object</p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></td><td class="doc"><p>Payment to verify and register</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:PayChanError">PayChanError</a> (<a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a>, <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a>)</td><td class="doc"><p>Value received plus new receiver state object</p></td></tr></table></div><div class="doc"><p>Register, on the receiving side, a payment made by <code><a href="Data-Bitcoin-PaymentChannel.html#v:sendPayment">sendPayment</a></code> on the sending side.
 Returns error if either the signature or payment amount is invalid, and otherwise
 the amount received with this <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:Payment">Payment</a></code> and a new state object.</p></div></div><div class="top"><p class="src"><a name="v:getSettlementBitcoinTx" class="def">getSettlementBitcoinTx</a> <a href="src/Data-Bitcoin-PaymentChannel.html#getSettlementBitcoinTx" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ReceiverPaymentChannel">ReceiverPaymentChannel</a></td><td class="doc"><p>Receiver state object</p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a></td><td class="doc"><p>Bitcoin transaction fee</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="Data-Bitcoin-PaymentChannel-Types.html#t:PayChanError">PayChanError</a> <a href="../haskoin-core-0.3.0/Network-Haskoin-Transaction.html#t:Tx">Tx</a></td><td class="doc"><p>Settling Bitcoin transaction</p></td></tr></table></div><div class="doc"><p>The value transmitted over the channel is settled when this transaction is in the Blockchain.
 The receiver will want to make sure a transaction produced by this function
 is included in a Bitcoin block before the refund transaction becomes valid (see <code><a href="Data-Bitcoin-PaymentChannel.html#v:getRefundBitcoinTx">getRefundBitcoinTx</a></code>).
 The sender can only close the channel before expiration by requesting this transaction
 from the receiver and publishing it to the Bitcoin network.
 Returns NoValueTransferred if no payment has been received yet.</p></div></div><div class="top"><p class="src"><a name="v:getRefundBitcoinTx" class="def">getRefundBitcoinTx</a> <a href="src/Data-Bitcoin-PaymentChannel.html#getRefundBitcoinTx" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:SenderPaymentChannel">SenderPaymentChannel</a></td><td class="doc"><p>Sender state object</p></td></tr><tr><td class="src">-&gt; <a href="Data-Bitcoin-PaymentChannel-Types.html#t:BitcoinAmount">BitcoinAmount</a></td><td class="doc"><p>Refund transaction fee</p></td></tr><tr><td class="src">-&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Transaction.html#t:Tx">Tx</a></td><td class="doc"><p>Refund Bitcoin transaction</p></td></tr></table></div><div class="doc"><p>Produces a Bitcoin transaction which sends all channel funds back to the sender.
 Will not be accepted by the Bitcoin network until the expiration time specified in
 <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></code>. Receiver beware of Bitcoin network time drift and the
 unpreditable nature of finding new blocks.</p></div></div><div class="top"><p class="src"><a name="v:getFundingAddress" class="def">getFundingAddress</a> :: <a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a> -&gt; <a href="../haskoin-core-0.3.0/Network-Haskoin-Crypto.html#t:Address">Address</a> <a href="src/Data-Bitcoin-PaymentChannel-Util.html#getFundingAddress" class="link">Source</a></p><div class="doc"><p>Derive a Bitcoin address, for funding a payment channel, from
  <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:ChannelParameters">ChannelParameters</a></code>.
  The transaction which pays to this address is the channel funding transaction,
  and information about this transaction is contained in
  <code><a href="Data-Bitcoin-PaymentChannel-Types.html#t:FundingTxInfo">FundingTxInfo</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>